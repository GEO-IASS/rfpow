<!DOCTYPE hml>
<html>
<head>
    <title>RFPow! - Register</title>
    <script type="text/javascript">
        function validateNumber(field, msg, min, max) {
            if (!min) {
                min = 0
            }
            if (!max) {
                max = 255
            }
            if ((parseInt(field.value) != field.value) ||
                    field.value.length < min || field.value.length > max) {
                alert(msg);
                field.focus();
                field.select();
                return false;
            }
            return true;
        }

        function validateString(field, msg, min, max) {
            if (!min) {
                min = 1
            }
            if (!max) {
                max = 65535
            }
            if (!field.value || field.value.length < min ||
                    field.value.max > max) {
                alert(msg);
                field.focus();
                field.select();
                return false;
            }
            return true;
        }

        function validateEmail(email, msg) {

            var re_mail = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z])+$/;
            if (!re_mail.test(email.value)) {
                alert(msg);
                email.focus();
                email.select();
                return false;
            }

            return true;
        }

        function validateCCDate(date, msg) {

            var re1='((?:[0]?[1-9]|[1][012])[-:\\/.](?:(?:[0-2]?\\d{1})|(?:[3][01]{1}))[-:\\/.](?:(?:\\d{1}\\d{1})))(?![\\d])';	// MMDDYY 1
            var p = new RegExp(re1,["i"]);
            var m = p.exec(date.value);
            if (m == null)
            {
                alert(msg);
                date.focus();
                date.select();
                return false;
            }

            return true;
        }
    </script>

</head>
<body>
<form action="{{action}}" method="post" onsubmit=" return validateString(this.username, 'Please fill all required ' +
 'fields', 1, 255)
&& validateString(this.first_name, 'Please fill all required fields', 1, 255)
&& validateString(this.last_name, 'Please fill all required fields', 1, 255)
&& validateEmail(this.email, 'Email not valid')
&& validateNumber(this.cc_number, 'Credit card number is 16 digits', 16, 16)
&& validateString(this.name_on_cc, 'Please fill all required fields', 1, 255)
&& validateCCDate(this.expiry_date, 'Credit card format must be in MM/dd/yy format')
;">
    <fieldset>
        <legend>Register an RFPow Account</legend>
        <label>*Username <input type="text" name="username" placeholder="Your username"/></label><br>
        <label>*Password <input type="password" name="password" placeholder="Your password"/></label><br>

        <label>*First Name <input type="text" name="first_name"/></label><br>
        <label>*Last Name <input type="text" name="last_name"/></label><br>
        <label>*Email<input type="text" name="email"/></label><br>


        <!--
        <label>Street Address <input type="text" name="password" placeholder="Your password"/></label><br>
        <label>City <input type="text" name="password" placeholder="Your password"/></label><br>
        <label>State/Province <input type="text" name="password" placeholder="Your password"/></label><br>
        <label>Postal/Zip <input type="text" name="password" placeholder="Your password"/></label><br>
        <label>Country <input type="text" name="password" placeholder="Your password"/></label><br>
        <label>Email <input type="text" name="password" placeholder="Your password"/></label><br>
        <label>Keywords <input type="text" name="password" placeholder="Your password"/></label><br>
        -->
        <br>

        <div>Visa Payment Info</div>
        <label>*VISA Number <input type="text" name="cc_number"/></label><br>
        <label>*Name on Card <input type="text" name="name_on_cc"/></label><br>
        <label>*Expiry Date (MM/dd/yy) <input type="text" name="expiry_date"/></label><br>

        <br>

        <div>What type of RFPs are you interested in? List keywords comma delimited</div>
        <label>Keywords <input type="text" name="keywords"/></label><br>


    </fieldset>
    <button>Create Account</button>
</form>
</body>
</html>