<!DOCTYPE hml>
<html>
<head>
    <title>RFPow!</title>
    <meta charset="UTF-8">
    <link rel="stylesheet/less" type="text/css" href="/style/main.less">

    <script src="/js/less-1.3.0.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="../js/user_input.js"></script>
</head>
<body>
    <div class="center_form_container">
        <form action="{{action}}" method="post" onsubmit="return debug_ignore_validation ||
            validateString(this.username, 'Please fill all required fields', 1, 255)
            && validateString(this.password, 'Please fill all required fields', 1, 255)
            && validateString(this.first_name, 'Please fill all required fields', 1, 255)
            && validateString(this.last_name, 'Please fill all required fields', 1, 255)
            && validateEmail(this.email, 'Email not valid')
            ;">

            <!-- Logo -->
            <a href="/" alt="Back to the home page"><img src="/images/logo.png" alt="RFPow's logo"></a>

            {% if username %}
            <h2>Edit your account</h2>
            {% else %}
            <h2>Register new account</h2>
            <div class="intro">
                Let's register! Please fill out all the fields below. 
            </div>
            {% endif %}

            <fieldset class="fieldset_submit">
                {% if err_msg != "" %}
                <div class="status error">{{ err_msg }}</div>
                {% elif info_msg %}
                <div class="status info">{{ info_msg }}</div>
                {% endif %}

                {% if not username %}
                <label class="clearfix">Username <input type="text" name="username" placeholder="Be creative"></label>
                <label class="clearfix">Password <input type="password" name="password" placeholder="Be cryptic."></label>
                {% endif %}

                <label class="clearfix">First name 
                    <input type="text" name="first_name"  value="{{ user.first_name }}" placeholder="Ideally, real name."></label>
                <label class="clearfix">Last name 
                    <input type="text" name="last_name"  value="{{ user.last_name }}" placeholder="We won't tell anyone."></label>
                <label class="clearfix">Email
                    <input type="text" name="email" value="{{ user.email }}" placeholder="No spam, for real!"></label>


                <!--
                <label class="clearfix">Street Address <input type="text" name="password" placeholder="Your password"></label><br>
                <label class="clearfix">City <input type="text" name="password" placeholder="Your password"></label><br>
                <label class="clearfix">State/Province <input type="text" name="password" placeholder="Your password"></label><br>
                <label class="clearfix">Postal/Zip <input type="text" name="password" placeholder="Your password"></label><br>
                <label class="clearfix">Country <input type="text" name="password" placeholder="Your password"></label><br>
                <label class="clearfix">Email <input type="text" name="password" placeholder="Your password"></label><br>
                <label class="clearfix">Keywords <input type="text" name="password" placeholder="Your password"></label><br>
                -->

                <h3>Credit card information</h3>
                <div class="intro">
                    Optional. Enter if you want to post your own RFPs. 
                </div>
                <label class="clearfix">Card number <input type="text" name="cc_number" value="{{ user.cc_number }}"></label>
                <label class="clearfix">Name on card <input type="text" name="name_on_cc" value="{{ user.name_on_cc }}"></label>
                <label class="clearfix">Expiry date
                    <select id="monthdropdown" name="expiry_date_month" >
                        <option value="{{ user.expiry_date_month }}" id="expiry_date_month">{{ user.expiry_date_month }}</option>
                    </select>
                    <select id="yeardropdown"  name="expiry_date_year" value="{{ user.expiry_date_year }}">
                        <option value="{{ user.expiry_date_year }}" id="expiry_date_year">{{ user.expiry_date_year }}</option>
                </select></label>

                <!--
                <div>What type of RFPs are you interested in? List keywords comma delimited</div>
                <label class="clearfix">Keywords <input type="text" name="keywords"></label><br> -->

                <div class="bottom_buttons">
                {% if username %}
                    <input type="submit" class="button button_save" value="">
                {% else %}
                    <input type="submit" class="button button_register" value="">
                {% endif %}
                </div>

            </fieldset>
        </form>
    </div>
</body>
</html>
